<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customizable Quiz Game</title>
    <style>
        :root {
            --primary-bg: #1a1a2e;
            --secondary-bg: #16213e;
            --accent: #0f3460;
            --text: #e94560;
            --light-text: #f1f1f1;
            --hover-bg: #274060;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--primary-bg);
            color: var(--light-text);
            padding: 20px;
            line-height: 1.6;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .title {
            color: var(--text);
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .subtitle {
            color: var(--light-text);
            font-size: 1rem;
            margin-bottom: 20px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .scoreboard {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .player-score {
            font-size: 1.2rem;
            padding: 10px 20px;
            background-color: var(--secondary-bg);
            border-radius: 8px;
        }
        
        .game-board {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 15px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .category {
            background-color: var(--secondary-bg);
            color: var(--light-text);
            padding: 15px;
            text-align: center;
            font-weight: bold;
            border-radius: 8px;
            transition: all 0.3s ease;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-transform: uppercase;
            font-size: 0.9rem;
            position: relative;
        }
        
        .category:hover {
            background-color: var(--hover-bg);
            cursor: pointer;
        }
        
        .category-edit {
            width: 100%;
            height: 100%;
            background-color: var(--secondary-bg);
            color: var(--light-text);
            text-align: center;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            text-transform: uppercase;
            font-size: 0.9rem;
            padding: 10px;
            display: none;
        }
        
        .question {
            background-color: var(--secondary-bg);
            color: var(--light-text);
            font-weight: bold;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 80px;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .question:hover {
            background-color: var(--hover-bg);
        }
        
        .question.answered {
            background-color: var(--primary-bg);
            color: var(--text);
            opacity: 0.7;
        }
        
        .edit-indicator {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 0.7rem;
            color: var(--text);
        }
        
        button {
            padding: 10px 20px;
            font-size: 1rem;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: var(--accent);
            color: var(--light-text);
            transition: all 0.3s ease;
        }
        
        button:hover {
            background-color: var(--text);
        }
        
        .btn-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .modal, .edit-panel {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            overflow: auto;
        }
        
        .modal-content, .edit-content {
            background-color: var(--secondary-bg);
            color: var(--light-text);
            margin: 10% auto;
            padding: 30px;
            width: 80%;
            max-width: 600px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .clue-text, .answer-text {
            font-size: 1.5rem;
            margin-bottom: 20px;
            line-height: 1.4;
        }
        
        .answer-text {
            color: var(--text);
            display: none;
            font-weight: bold;
            padding: 15px;
            border: 1px solid var(--text);
            border-radius: 8px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 10px;
            font-size: 1rem;
            border: 1px solid var(--accent);
            border-radius: 5px;
            background-color: var(--primary-bg);
            color: var(--light-text);
        }
        
        .edit-mode-indicator {
            background-color: var(--text);
            color: var(--light-text);
            padding: 5px 10px;
            border-radius: 5px;
            margin-bottom: 15px;
            display: inline-block;
            font-weight: bold;
        }
        
        .edit-instructions {
            font-size: 0.9rem;
            margin-bottom: 20px;
            color: var(--light-text);
            background-color: var(--accent);
            padding: 10px;
            border-radius: 5px;
        }
        
        @media (max-width: 768px) {
            .game-board {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .category, .question {
                font-size: 0.8rem;
                height: 70px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1 class="title">Customizable Quiz Game</h1>
        <p class="subtitle">Create your own trivia game with custom categories and questions</p>
        <div class="edit-mode-indicator" id="modeIndicator">EDIT MODE</div>
        <p class="edit-instructions">Click on any category to edit it. Click on any question to customize its content.</p>
        <div class="controls">
            <button id="editModeBtn">Edit Mode</button>
            <button id="playModeBtn">Play Mode</button>
            <button id="saveGameBtn">Save Game</button>
            <button id="resetGameBtn">Reset Game</button>
        </div>
        <div class="scoreboard">
            <div class="player-score">
                Player 1: <span id="score1">0</span> points
            </div>
            <div class="player-score">
                Player 2: <span id="score2">0</span> points
            </div>
            <div class="player-score">
                Player 3: <span id="score3">0</span> points
            </div>
        </div>
    </header>

    <div class="game-board" id="board"></div>

    <div class="modal" id="questionModal">
        <div class="modal-content">
            <div class="clue-text" id="clueText"></div>
            <div class="answer-text" id="answerText"></div>
            <div class="btn-container">
                <button id="showAnswer">Show Answer</button>
                <button id="correct">Correct</button>
                <button id="incorrect">Incorrect</button>
                <button id="closeModal">Close</button>
            </div>
        </div>
    </div>

    <div class="edit-panel" id="editPanel">
        <div class="edit-content">
            <h2>Edit Question</h2>
            <div class="edit-form">
                <div class="form-group">
                    <label for="editValue">Point Value:</label>
                    <input type="number" id="editValue" min="100" step="100" value="200">
                </div>
                <div class="form-group">
                    <label for="editClue">Question/Clue:</label>
                    <textarea id="editClue" rows="3" placeholder="Enter your question or clue here"></textarea>
                </div>
                <div class="form-group">
                    <label for="editAnswer">Answer:</label>
                    <textarea id="editAnswer" rows="3" placeholder="Enter the answer here"></textarea>
                </div>
                <div class="btn-container">
                    <button id="saveEditBtn">Save</button>
                    <button id="cancelEditBtn">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Default game data
        let categories = [
            "History", "Science", "Sports", "Literature", "Geography", "Entertainment"
        ];
        
        let questions = [
            // History
            [
                { value: 200, clue: "This president was known as 'Honest Abe'", answer: "Who is Abraham Lincoln?" },
                { value: 400, clue: "This ancient wonder was a lighthouse in Alexandria", answer: "What is the Pharos?" },
                { value: 600, clue: "This empire was founded by Genghis Khan", answer: "What is the Mongol Empire?" },
                { value: 800, clue: "Year World War II ended", answer: "What is 1945?" },
                { value: 1000, clue: "This English king had six wives", answer: "Who is Henry VIII?" }
            ],
            // Science
            [
                { value: 200, clue: "The chemical symbol 'Au' stands for this element", answer: "What is Gold?" },
                { value: 400, clue: "This scientist developed the theory of general relativity", answer: "Who is Albert Einstein?" },
                { value: 600, clue: "The smallest bone in the human body", answer: "What is the stirrup (stapes)?" },
                { value: 800, clue: "This planet has the most moons", answer: "What is Saturn?" },
                { value: 1000, clue: "This element was discovered by Marie Curie", answer: "What is Radium?" }
            ],
            // Sports
            [
                { value: 200, clue: "Number of players on a soccer team", answer: "What is 11?" },
                { value: 400, clue: "This swimmer has won the most Olympic gold medals", answer: "Who is Michael Phelps?" },
                { value: 600, clue: "The only team to go undefeated in NFL history", answer: "Who are the 1972 Miami Dolphins?" },
                { value: 800, clue: "This country has won the most World Cups", answer: "What is Brazil?" },
                { value: 1000, clue: "This sport uses the term 'Stone' for its equipment", answer: "What is Curling?" }
            ],
            // Literature
            [
                { value: 200, clue: "This author wrote 'Romeo and Juliet'", answer: "Who is William Shakespeare?" },
                { value: 400, clue: "This novel by Harper Lee features Atticus Finch", answer: "What is 'To Kill a Mockingbird'?" },
                { value: 600, clue: "This author wrote 'The Great Gatsby'", answer: "Who is F. Scott Fitzgerald?" },
                { value: 800, clue: "This dystopian novel features Big Brother", answer: "What is '1984'?" },
                { value: 1000, clue: "This Russian author wrote 'War and Peace'", answer: "Who is Leo Tolstoy?" }
            ],
            // Geography
            [
                { value: 200, clue: "The longest river in the world", answer: "What is the Nile?" },
                { value: 400, clue: "This European country is shaped like a boot", answer: "What is Italy?" },
                { value: 600, clue: "The largest desert in the world", answer: "What is the Antarctic Desert?" },
                { value: 800, clue: "This mountain range separates Europe and Asia", answer: "What are the Ural Mountains?" },
                { value: 1000, clue: "The capital of Australia", answer: "What is Canberra?" }
            ],
            // Entertainment
            [
                { value: 200, clue: "This Disney movie features a lion named Simba", answer: "What is 'The Lion King'?" },
                { value: 400, clue: "This band performed 'Bohemian Rhapsody'", answer: "Who is Queen?" },
                { value: 600, clue: "This actor played Jack in 'Titanic'", answer: "Who is Leonardo DiCaprio?" },
                { value: 800, clue: "This TV show featured the character Walter White", answer: "What is 'Breaking Bad'?" },
                { value: 1000, clue: "This director is known for 'Jurassic Park' and 'E.T.'", answer: "Who is Steven Spielberg?" }
            ]
        ];

        // Initialize with edit mode active
        let editMode = true;
        let currentQuestion = null;
        let scores = [0, 0, 0];
        let currentPlayer = 0;
        let currentEditCell = null;

        // Initialize the game board
        function initializeBoard() {
            const board = document.getElementById('board');
            board.innerHTML = '';
            
            // Load saved game if exists
            loadGameFromStorage();
            
            // Add categories
            categories.forEach((category, index) => {
                const categoryElement = document.createElement('div');
                categoryElement.className = 'category';
                categoryElement.textContent = category;
                categoryElement.dataset.index = index;
                
                // Add edit indicator
                if (editMode) {
                    const editIndicator = document.createElement('span');
                    editIndicator.className = 'edit-indicator';
                    editIndicator.textContent = '✎';
                    categoryElement.appendChild(editIndicator);
                }
                
                const categoryInput = document.createElement('input');
                categoryInput.type = 'text';
                categoryInput.className = 'category-edit';
                categoryInput.value = category;
                categoryInput.dataset.index = index;
                
                categoryElement.appendChild(categoryInput);
                board.appendChild(categoryElement);
                
                // Add event listener for editing category
                categoryElement.addEventListener('click', function(event) {
                    if (editMode) {
                        const input = event.currentTarget.querySelector('.category-edit');
                        input.style.display = 'block';
                        event.currentTarget.textContent = '';
                        const editIndicator = document.createElement('span');
                        editIndicator.className = 'edit-indicator';
                        editIndicator.textContent = '✎';
                        event.currentTarget.appendChild(editIndicator);
                        event.currentTarget.appendChild(input);
                        input.focus();
                    }
                });
                
                categoryInput.addEventListener('blur', function(event) {
                    const index = event.target.dataset.index;
                    categories[index] = event.target.value;
                    event.target.parentElement.textContent = event.target.value;
                    event.target.style.display = 'none';
                    
                    // Add edit indicator back
                    if (editMode) {
                        const editIndicator = document.createElement('span');
                        editIndicator.className = 'edit-indicator';
                        editIndicator.textContent = '✎';
                        event.target.parentElement.appendChild(editIndicator);
                    }
                    
                    event.target.parentElement.appendChild(event.target);
                });
                
                categoryInput.addEventListener('keydown', function(event) {
                    if (event.key === 'Enter') {
                        event.target.blur();
                    }
                });
            });
            
            // Add questions
            for (let row = 0; row < 5; row++) {
                for (let col = 0; col < 6; col++) {
                    const questionElement = document.createElement('div');
                    questionElement.className = 'question';
                    questionElement.textContent = `${questions[col][row].value} points`;
                    questionElement.dataset.row = row;
                    questionElement.dataset.col = col;
                    
                    // Add edit indicator if in edit mode
                    if (editMode) {
                        const editIndicator = document.createElement('span');
                        editIndicator.className = 'edit-indicator';
                        editIndicator.textContent = '✎';
                        questionElement.appendChild(editIndicator);
                    }
                    
                    questionElement.addEventListener('click', function(event) {
                        if (editMode) {
                            // Edit question
                            openEditPanel(col, row);
                        } else if (!event.currentTarget.classList.contains('answered')) {
                            // Show question during play mode
                            handleQuestionClick(event);
                        }
                    });
                    
                    board.appendChild(questionElement);
                }
            }
            
            // Update UI for current mode
            updateModeUI();
        }

        // Update UI based on current mode
        function updateModeUI() {
            const modeIndicator = document.getElementById('modeIndicator');
            const editModeBtn = document.getElementById('editModeBtn');
            const playModeBtn = document.getElementById('playModeBtn');
            const editInstructions = document.querySelector('.edit-instructions');
            
            if (editMode) {
                modeIndicator.textContent = 'EDIT MODE';
                modeIndicator.style.display = 'inline-block';
                editModeBtn.style.display = 'none';
                playModeBtn.style.display = 'inline-block';
                editInstructions.style.display = 'block';
                
                // Add edit indicators to all categories and questions
                document.querySelectorAll('.category, .question').forEach(element => {
                    if (!element.querySelector('.edit-indicator')) {
                        const editIndicator = document.createElement('span');
                        editIndicator.className = 'edit-indicator';
                        editIndicator.textContent = '✎';
                        element.appendChild(editIndicator);
                    }
                });
                
                // Remove answered class from all questions
                document.querySelectorAll('.question').forEach(q => q.classList.remove('answered'));
            } else {
                modeIndicator.textContent = 'PLAY MODE';
                modeIndicator.style.backgroundColor = var(--accent);
                editModeBtn.style.display = 'inline-block';
                playModeBtn.style.display = 'none';
                editInstructions.style.display = 'none';
                
                // Remove edit indicators
                document.querySelectorAll('.edit-indicator').forEach(indicator => {
                    indicator.remove();
                });
            }
        }

        // Open edit panel for a question
        function openEditPanel(col, row) {
            currentEditCell = { col, row };
            const question = questions[col][row];
            
            document.getElementById('editValue').value = question.value;
            document.getElementById('editClue').value = question.clue;
            document.getElementById('editAnswer').value = question.answer;
            
            document.getElementById('editPanel').style.display = 'block';
        }

        // Save edited question
        document.getElementById('saveEditBtn').addEventListener('click', function() {
            if (currentEditCell) {
                const { col, row } = currentEditCell;
                
                questions[col][row] = {
                    value: parseInt(document.getElementById('editValue').value),
                    clue: document.getElementById('editClue').value,
                    answer: document.getElementById('editAnswer').value
                };
                
                // Update the display
                const questionElement = document.querySelector(`.question[data-row="${row}"][data-col="${col}"]`);
                questionElement.textContent = `${questions[col][row].value} points`;
                
                // Add edit indicator back if in edit mode
                if (editMode) {
                    const editIndicator = document.createElement('span');
                    editIndicator.className = 'edit-indicator';
                    editIndicator.textContent = '✎';
                    questionElement.appendChild(editIndicator);
                }
                
                document.getElementById('editPanel').style.display = 'none';
            }
        });

        // Cancel edit
        document.getElementById('cancelEditBtn').addEventListener('click', function() {
            document.getElementById('editPanel').style.display = 'none';
        });

        // Handle question click during play mode
        function handleQuestionClick(event) {
            const row = parseInt(event.currentTarget.dataset.row);
            const col = parseInt(event.currentTarget.dataset.col);
            currentQuestion = questions[col][row];
            
            // Show modal with question
            const modal = document.getElementById('questionModal');
            const clueText = document.getElementById('clueText');
            const answerText = document.getElementById('answerText');
            
            clueText.textContent = currentQuestion.clue;
            answerText.textContent = currentQuestion.answer;
            answerText.style.display = 'none';
            modal.style.display = 'block';
            
            // Mark question as answered
            event.currentTarget.classList.add('answered');
        }

        // Toggle edit mode
        document.getElementById('editModeBtn').addEventListener('click', function() {
            editMode = true;
            updateModeUI();
        });

        // Toggle play mode
        document.getElementById('playModeBtn').addEventListener('click', function() {
            editMode = false;
            updateModeUI();
        });

        // Save game to localStorage
        document.getElementById('saveGameBtn').addEventListener('click', function() {
            const gameData = {
                categories: categories,
                questions: questions
            };
            
            localStorage.setItem('quizGame', JSON.stringify(gameData));
            alert('Game saved successfully! You can reload the page and your game will be here.');
        });

        // Reset game
        document.getElementById('resetGameBtn').addEventListener('click', function() {
            if (confirm('Are you sure you want to reset the game? All custom questions will be lost.')) {
                localStorage.removeItem('quizGame');
                location.reload();
            }
        });

        // Load game from localStorage
        function loadGameFromStorage() {
            const savedGame = localStorage.getItem('quizGame');
            
            if (savedGame) {
                const gameData = JSON.parse(savedGame);
                categories = gameData.categories;
                questions = gameData.questions;
            }
        }

        // Show answer
        document.getElementById('showAnswer').addEventListener('click', function() {
            document.getElementById('answerText').style.display = 'block';
        });

        // Handle correct answer
        document.getElementById('correct').addEventListener('click', function() {
            scores[currentPlayer] += currentQuestion.value;
            updateScores();
            closeModal();
            
            // Switch to next player
            currentPlayer = (currentPlayer + 1) % 3;
        });

        // Handle incorrect answer
        document.getElementById('incorrect').addEventListener('click', function() {
            scores[currentPlayer] -= currentQuestion.value;
            updateScores();
            closeModal();
            
            // Switch to next player
            currentPlayer = (currentPlayer + 1) % 3;
        });

        // Close modal
        document.getElementById('closeModal').addEventListener('click', closeModal);

        function closeModal() {
            document.getElementById('questionModal').style.display = 'none';
        }

        // Update scores display
        function updateScores() {
            for (let i = 0; i < 3; i++) {
                document.getElementById(`score${i+1}`).textContent = scores[i];
            }
        }

        // Initialize the game
        window.onload = function() {
            initializeBoard();
        };
    </script>
</body>
</html>
